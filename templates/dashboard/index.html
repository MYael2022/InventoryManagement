{% extends 'partials/base.html' %}
{% block title %}Tlapaler√≠a La Mexicana{% endblock %}


{% block content %}
{% if user.is_authenticated and user.is_staff and user.is_superuser %}
{% include 'partials/topnav.html' %}
<!--Inicio de tabla-->

<!--Graficas-->
<div class="container">
    <div class="row my-5">
        <div class="col-md-6">
            <div class="bg-white">
                <canvas id="myChart1" width='400' height='300'></canvas>
                <script>
                var ctx = document.getElementById('myChart1').getContext('2d');
                var myChart1 = new Chart(ctx, {
                    type : 'pie',
                    data: {
                        labels: [{% for order in orders %} '{{order.producto.nombre}}', {% endfor %}],
                        datasets: [{
                            label : 'Ordenes',
                            data : [{% for order in orders %} {{order.orden_cantidad}}, {% endfor%}],
                            backgroundColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 159, 235, 1)',
                                'rgba(255, 205, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 162, 255, 1)',
                                'rgba(25, 102, 64, 1)',
                                'rgba(211, 203, 12, 1)',
                                'rgba(234, 99, 235, 1)',
                                'rgba(255, 159, 86, 1)',
                                'rgba(255, 205, 192, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(34, 162, 235, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 203, 207, 1)'
                    ],
                                borderColor: [
                                'rgb(255, 99, 132,1)',
                                'rgb(255, 159, 64,1)',
                                'rgb(255, 205, 86,1)',
                                'rgb(75, 192, 192,1)',
                                'rgb(54, 162, 235,1)',
                                'rgb(153, 102, 255,1)',
                                'rgb(201, 203, 207,1)',
                                'rgba(255, 159, 86, 1)',
                                'rgba(255, 205, 192, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(34, 162, 235, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 203, 207, 1)'
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            scales: {
                                yAxes: {
                                    ticks: {
                                        beginAtZero: true

                                    }
                                }
                            }
                        }
                });
            </script>
        </div>
    </div>
    </div>
    <div class="col-md-6">
        <div class="bg-white">
                <canvas id="myChart" width='400' height='300'></canvas>
                <script>
                    var ctx = document.getElementById('myChart').getContext('2d');
                    var myChart = new Chart(ctx, {
                        type : 'bar',
                        data : {
                            labels : [{% for product in products %} '{{ product.nombre}}', {% endfor%}],
                            datasets: [{
                                label : 'Productos',
                                data: [{% for product in products %} {{ product.cantidad}}, {% endfor%}],
                                backgroundColor: [
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(153, 162, 255, 1)',
                                    'rgba(25, 102, 64, 1)',
                                    'rgba(211, 203, 12, 1)',
                                    'rgba(234, 99, 235, 1)',
                                    'rgba(255, 159, 86, 1)',
                                    'rgba(255, 205, 192, 1)',
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(34, 162, 235, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(255, 203, 207, 1)',
                                    'rgba(255, 99, 132, 1)',
                                    'rgba(255, 159, 64, 1)',
                                    'rgba(255, 205, 86, 1)',
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(54, 162, 235, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(201, 203, 207, 1)'
                                    ],
                                    borderColor: [
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(153, 162, 255, 1)',
                                    'rgba(25, 102, 64, 1)',
                                    'rgba(211, 203, 12, 1)',
                                    'rgba(234, 99, 235, 1)',
                                    'rgba(255, 159, 86, 1)',
                                    'rgba(255, 205, 192, 1)',
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(34, 162, 235, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(255, 203, 207, 1)',
                                    'rgba(255, 99, 132, 1)',
                                    'rgba(255, 159, 64, 1)',
                                    'rgba(255, 205, 86, 1)',
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(54, 162, 235, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(201, 203, 207, 1)'
                                    ],
                                    borderWidth: 1
                                }]
                                },
                                options: {
                                    scales:{
                                        yAxes: [{
                                            ticks: {
                                                beginAtZero: true
                                            }
                                        }]
                                    }
                                }
                            });

                        </script>
                </div>
            </div>
        </div>
    </div>
<!--Fin de la tabla-->
{% else %}
{% include 'dashboard/staff_index.html' %}
{% endif %}
{% endblock %}

